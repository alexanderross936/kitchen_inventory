{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\alexander.ross\\\\Documents\\\\jsdev\\\\kitchen_inventory\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\alexander.ross\\\\Documents\\\\jsdev\\\\kitchen_inventory\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\alexander.ross\\\\Documents\\\\jsdev\\\\kitchen_inventory\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\alexander.ross\\\\Documents\\\\jsdev\\\\kitchen_inventory\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{Link}from'react-router-dom';import{CardHeader,CardContent,Card,Button}from'@material-ui/core';var Recipe=/*#__PURE__*/function(_React$Component){_inherits(Recipe,_React$Component);var _super=_createSuper(Recipe);function Recipe(){var _this;_classCallCheck(this,Recipe);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[]};_this.handleUseRecipe=function(){var strIngredients=_this.state.data.Ingredients;console.log(strIngredients);var arIngredients=strIngredients.split(\", \");var strAmounts=_this.state.data.Amounts;var arAmounts=strAmounts.split(\", \");var strTypes=_this.state.data.Types;var arTypes=strTypes.split(\", \");var negAmounts=arAmounts.map(function(amount){return amount*-1;});console.log(arIngredients);console.log(arAmounts);console.log(arTypes);console.log(typeof negAmounts);var i;var ing_add=[];for(i=0;i<arIngredients.length-1;i++){ing_add.push({Ingredient:arIngredients[i],Type:arTypes[i],Amount:negAmounts[i]});}console.log(ing_add);var j;for(j=0;j<ing_add.length;j++){var dat=ing_add[j];axios.post('http://localhost:4000/api/use_recipe',dat);console.log(dat);alert('Recipe ingredients have been subtracted from ingredient list');}// For Each\n};return _this;}_createClass(Recipe,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.id;axios.get(\"http://localhost:4000/recipe/\".concat(id)).then(function(res){_this2.setState({data:res.data});console.log(_this2.state.data);});}},{key:\"render\",value:function render(){var data=/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{title:this.state.Title}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Ingredients: \",this.state.data.Ingredients),/*#__PURE__*/React.createElement(\"h3\",null,\"Amounts: \",this.state.data.Amounts),/*#__PURE__*/React.createElement(\"h3\",null,\"Measurements: \",this.state.data.Types),/*#__PURE__*/React.createElement(\"h3\",null,\"Directions: \",this.state.data.Directions),/*#__PURE__*/React.createElement(Button,{onClick:this.handleUseRecipe},\"Use Recipe\"))));console.log(this.state.data);console.log(this.state.data.Amounts);console.log(this.state.data.Ingredients);console.log(this.state.data.Types);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,data));}}]);return Recipe;}(React.Component);export default Recipe;","map":{"version":3,"sources":["C:/Users/alexander.ross/Documents/jsdev/kitchen_inventory/frontend/src/components/Recipe.js"],"names":["React","axios","Link","CardHeader","CardContent","Card","Button","Recipe","state","data","handleUseRecipe","strIngredients","Ingredients","console","log","arIngredients","split","strAmounts","Amounts","arAmounts","strTypes","Types","arTypes","negAmounts","map","amount","i","ing_add","length","push","Ingredient","Type","Amount","j","dat","post","alert","id","props","match","params","get","then","res","setState","Title","Directions","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom'\r\nimport { CardHeader, CardContent, Card, Button } from '@material-ui/core';\r\n\r\nclass Recipe extends React.Component {\r\n\r\n    // console.log(grep)\r\n    state = {\r\n        data: []\r\n    }\r\n\r\n    handleUseRecipe = () => {\r\n\r\n        let strIngredients = this.state.data.Ingredients;\r\n        console.log(strIngredients)\r\n        let arIngredients = strIngredients.split(\", \");\r\n        let strAmounts = this.state.data.Amounts;\r\n        let arAmounts = strAmounts.split(\", \");\r\n        let strTypes = this.state.data.Types;\r\n        let arTypes = strTypes.split(\", \");\r\n        let negAmounts = arAmounts.map(amount => {\r\n            return amount*(-1)\r\n        })\r\n        console.log(arIngredients);\r\n        console.log(arAmounts);\r\n        console.log(arTypes);\r\n        console.log(typeof negAmounts)\r\n        let i;\r\n        let ing_add = [];\r\n        for(i = 0; i < arIngredients.length - 1; i++){\r\n            ing_add.push( {\r\n                Ingredient: arIngredients[i],\r\n                Type: arTypes[i],\r\n                Amount: negAmounts[i]\r\n            })\r\n        }\r\n        console.log(ing_add);\r\n        let j;\r\n        for(j = 0; j < ing_add.length; j++){\r\n            let dat = ing_add[j]\r\n            axios.post('http://localhost:4000/api/use_recipe', dat)\r\n            console.log(dat)\r\n            alert('Recipe ingredients have been subtracted from ingredient list')\r\n        }\r\n\r\n        \r\n\r\n        // For Each\r\n    }\r\n\r\n    componentDidMount(){\r\n        const id = this.props.match.params.id\r\n        axios.get(`http://localhost:4000/recipe/${id}`)\r\n        .then(res => {\r\n      this.setState({\r\n        data: res.data\r\n      } )\r\n      console.log(this.state.data)\r\n          })\r\n\r\n    }\r\nrender(){\r\n\r\n    let data =\r\n        <p>\r\n            <Card>\r\n                <CardHeader title={this.state.Title} />\r\n           {/* <h3>ID: {ins._id}</h3> */}\r\n           <CardContent>\r\n               <h3>Ingredients: {this.state.data.Ingredients}</h3>\r\n                <h3>Amounts: {this.state.data.Amounts}</h3>\r\n                <h3>Measurements: {this.state.data.Types}</h3>\r\n                <h3>Directions: {this.state.data.Directions}</h3>\r\n                 <Button \r\n      onClick={this.handleUseRecipe}\r\n      >Use Recipe</Button>\r\n                          </CardContent>\r\n        </Card>\r\n        </p>;\r\n    \r\n    console.log(this.state.data)\r\n    console.log(this.state.data.Amounts)\r\n    console.log(this.state.data.Ingredients)\r\n    console.log(this.state.data.Types)\r\nreturn (\r\n    <div>\r\n      <span>{data}</span>\r\n\r\n    </div>\r\n   \r\n)\r\n}\r\n    }\r\n\r\nexport default Recipe;"]},"metadata":{},"sourceType":"module"}